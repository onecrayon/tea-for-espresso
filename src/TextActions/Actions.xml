<?xml version="1.0"?>
<action-recipes>
	<!-- Commands are in menu order, because that's how I roll -->
	
	<!-- Formatting commands -->
	
	<action id="com.onecrayon.TextActions.InsertIndentedLine" category="actions.text.formatting/tea.insertion">
		<class>TEAforEspresso</class>
		<title>Indent New Line</title>
		<key-equivalent>control shift enter</key-equivalent>
		<setup>
			<action>insert_snippet</action>
			<options>
				<dict>
					<key>default</key>
					<string><![CDATA[
	${1:$SELECTED_TEXT}$0
]]></string>
					
					<key>undo_name</key>
					<string>Insert Indented Line</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.InsertText.BR" category="actions.text.formatting/tea.insertion">
		<class>TEAforEspresso</class>
		<title>Insert Linebreak(s)</title>
		<key-equivalent>control enter</key-equivalent>
		<setup>
			<action>insert_text</action>
			<options>
				<dict>
					<key>default</key>
					<string>&lt;br /></string>
					
					<key>suffix_selection</key>
					<true/>
					
					<key>undo_name</key>
					<string>Insert Linebreak(s)</string>
					
					<!-- Syntax-specific overrides -->
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.FormatText.Em" category="actions.text.formatting">
		<class>TEAforEspresso</class>
		<title>Emphasize</title>
		<key-equivalent>cmd I</key-equivalent>
		<setup>
			<action>selections_to_text</action>
			<options>
				<dict>
					<key>default</key>
					<string>&lt;em>$SELECTED_TEXT&lt;/em></string>
					
					<key>undo_name</key>
					<string>Emphasize</string>
					
					<!-- Syntax-specific overrides -->
					<key>text.markdown</key>
					<string>*$SELECTED_TEXT*</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.FormatText.Strong" category="actions.text.formatting">
		<class>TEAforEspresso</class>
		<title>Strong</title>
		<key-equivalent>cmd b</key-equivalent>
		<setup>
			<action>selections_to_text</action>
			<options>
				<dict>
					<key>default</key>
					<string>&lt;strong>$SELECTED_TEXT&lt;/strong></string>
					
					<key>undo_name</key>
					<string>Strong</string>
					
					<!-- Syntax-specific overrides -->
					<key>text.markdown</key>
					<string>**$SELECTED_TEXT**</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<!-- HTML Suite -->
	
	<action id="com.onecrayon.TextActions.ConvertToNamedEntities" category="actions.text.HTML/tea.conversion">
		<class>TEAforEspresso</class>
		<title>Convert To Named Entities</title>
		<key-equivalent>option &amp;</key-equivalent>
		<setup>
			<action>encode_unicode</action>
			<options>
				<dict>
					<key>type</key>
					<string>named</string>
					
					<key>undo_name</key>
					<string>Convert To Named Entities</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.ConvertToNumericEntities" category="actions.text.HTML/tea.conversion">
		<class>TEAforEspresso</class>
		<title>Convert To Numeric Entities</title>
		<setup>
			<action>encode_unicode</action>
			<options>
				<dict>
					<key>type</key>
					<string>numeric</string>
					
					<key>undo_name</key>
					<string>Convert To Numeric Entities</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.InsertTagFromWord" category="actions.text.HTML/tea.insertion">
		<class>TEAforEspresso</class>
		<title>Insert Tag From Word</title>
		<key-equivalent>control ,</key-equivalent>
		<setup>
			<action>word_to_snippet</action>
			<options>
				<dict>
					<key>default</key>
					<string>&lt;$SELECTED_TEXT>$1&lt;/$WORD>$0</string>
					
					<key>extra_characters</key>
					<string>_-</string>
					
					<key>mode</key>
					<string>HTML</string>
					
					<key>close_string</key>
					<string> /</string>
					
					<key>undo_name</key>
					<string>Insert Tag From Word</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.WrapInSnippet.tag" category="actions.text.HTML/tea.wrapping">
		<class>TEAforEspresso</class>
		<title>Wrap Selection In Tag</title>
		<key-equivalent>control W</key-equivalent>
		<setup>
			<action>selections_to_snippets</action>
			<options>
				<dict>
					<key>first_snippet</key>
					<string>&lt;${1:p}>$SELECTED_TEXT&lt;/${1/\s.*//}>$0</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.WrapLinesInSnippet.tag" category="actions.text.HTML/tea.wrapping">
		<class>TEAforEspresso</class>
		<title>Wrap Selected Lines In Tag</title>
		<key-equivalent>cmd control W</key-equivalent>
		<setup>
			<action>selected_lines_to_snippets</action>
			<options>
				<dict>
					<key>first_snippet</key>
					<string>&lt;${1:li}>$SELECTED_TEXT&lt;/${1/\s.*//}></string>
					
					<key>following_snippet</key>
					<string>&lt;$1>$SELECTED_TEXT&lt;/${1/\s.*//}></string>
					
					<key>final_append</key>
					<string>$0</string>
					
					<key>undo_name</key>
					<string>Wrap Selected Lines In Tag</string>
				</dict>
			</options>
		</setup>
	</action>
	
	<action id="com.onecrayon.TextActions.WrapSelectionInLink" category="actions.text.HTML/tea.wrapping">
		<class>TEAforEspresso</class>
		<title>Wrap Selection In Link</title>
		<key-equivalent>control L</key-equivalent>
		<setup>
			<action>insert_url_snippet</action>
			<options>
				<dict>
					<key>default</key>
					<string>&lt;a href="${1:$URL}"${2: title="$3"}>$SELECTED_TEXT&lt;/a>$0</string>
					
					<key>fallback_url</key>
					<string>http://</string>
					
					<key>undo_name</key>
					<string>Wrap Selection In Link</string>
					
					<!-- Syntax-specific overrides -->
					<key>text.markdown</key>
					<string>[$SELECTED_TEXT](${1:$URL})$0</string>
				</dict>
			</options>
		</setup>
	</action>
	
</action-recipes>
